import{switchWeatherIcon,switchColor}from"./switch_view.js";import getWeatherData from"../api.js";import{createWeatherStructure,createErrorStructure}from"./structure.js";const setContainerOpenId=()=>{document.querySelector(".container").id="opened"},setContainerRegisterId=()=>{document.querySelector(".container").id="register"},renderError=()=>{const e=document.querySelector(".container__wrapper"),r=document.querySelector(".weather-box");r&&r.remove();const t=document.querySelector(".error-box");t&&t.remove();const o=createErrorStructure();e.append(o),switchWeatherIcon(null),switchColor(null)},renderWeatherInfo=async()=>{const e=document.querySelector(".search-input").value,r=document.querySelector(".container");""!==e&&(r.style.height="650px");const t=document.querySelector(".container__wrapper"),o=await getWeatherData(e);if("city not found"===o.message)return void renderError();const n=document.querySelector(".error-box");n&&n.remove();const c=document.querySelector(".weather-box");c&&c.remove();const u=o.name,i=o.sys.country,{description:a,id:d}=o.weather[0],{temp:s,humidity:m}=o.main,l=o.wind.speed;t.append(createWeatherStructure()),document.querySelector(".current-temp div").innerText=`${Math.round(s)}Â°C`,document.querySelector(".city").innerText=`${u}, ${i}`,document.querySelector(".description").innerText=a,document.querySelector("span.humidity.value").innerText=`${m}%`,document.querySelector("span.wind-speed.value").innerText=`${l} m/s`,switchWeatherIcon(d),switchColor(d)};export{renderWeatherInfo,setContainerOpenId,setContainerRegisterId};