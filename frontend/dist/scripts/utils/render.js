import{switchWeatherIcon,switchColor}from"./switch_view.js";import getWeatherData from"../api.js";import{createWeatherStructure,createErrorStructure}from"./structure.js";const setContainerOpenId=()=>{document.querySelector(".container").id="opened"},setContainerRegisterId=()=>{document.querySelector(".container").id="register"},renderError=()=>{const e=document.querySelector(".container__wrapper"),r=document.querySelector(".weather-box");r&&r.remove();const t=document.querySelector(".error-box");t&&t.remove();const o=createErrorStructure();e.append(o),switchWeatherIcon(null),switchColor(null)},renderWeatherInfo=async(e,r,t)=>{let o;const n=document.querySelector(".search-input");o=n?n.value:e;const c=document.querySelector(".container");""!==o&&(c.style.height="650px");const u=await getWeatherData(o);if("city not found"===u.message)return void renderError();const i=document.querySelector(".error-box");i&&i.remove();const a=document.querySelector(".weather-box");a&&a.remove();const s=u.name,d=u.sys.country,{description:m,id:l}=u.weather[0],{temp:p,humidity:h}=u.main,y=u.wind.speed;let S;if("multiply"===r){S=document.querySelector(`#wrapper${t}`);const e=createWeatherStructure();console.log(`wrapper${t}`),S.append(e)}else{S=document.querySelector("#wrapper0");const e=createWeatherStructure();S.append(e)}return document.querySelector(".current-temp div").innerText=`${Math.round(p)}Â°C`,document.querySelector(".city").innerText=`${s}, ${d}`,document.querySelector(".description").innerText=m,document.querySelector("span.humidity.value").innerText=`${h}%`,document.querySelector("span.wind-speed.value").innerText=`${y} m/s`,switchWeatherIcon(l),switchColor(l),S};export{renderWeatherInfo,setContainerOpenId,setContainerRegisterId};