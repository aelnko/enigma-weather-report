import{switchWeatherIcon,switchColor}from"./switch_view.js";import getWeatherData from"../api.js";import{createWeatherStructure,createErrorStructure}from"./structure.js";const setContainerOpenId=()=>{document.querySelector(".container").id="opened"},setContainerRegisterId=()=>{document.querySelector(".container").id="register"},renderError=()=>{const e=document.querySelector(".container__wrapper"),r=document.querySelector(".weather-box");r&&r.remove();const t=document.querySelector(".error-box");t&&t.remove();const o=createErrorStructure();e.append(o),switchWeatherIcon(null),switchColor(null)},renderWeatherInfo=async()=>{let e;const r=document.querySelector(".search-input");e=r?r.value:"London";const t=document.querySelector(".container");""!==e&&(t.style.height="650px");const o=document.querySelector(".container__wrapper");console.log(e);const n=await getWeatherData(e);if("city not found"===n.message)return void renderError();const c=document.querySelector(".error-box");c&&c.remove();const u=document.querySelector(".weather-box");u&&u.remove();const i=n.name,a=n.sys.country,{description:s,id:d}=n.weather[0],{temp:m,humidity:l}=n.main,p=n.wind.speed;o.append(createWeatherStructure()),document.querySelector(".current-temp div").innerText=`${Math.round(m)}Â°C`,document.querySelector(".city").innerText=`${i}, ${a}`,document.querySelector(".description").innerText=s,document.querySelector("span.humidity.value").innerText=`${l}%`,document.querySelector("span.wind-speed.value").innerText=`${p} m/s`,switchWeatherIcon(d),switchColor(d)};export{renderWeatherInfo,setContainerOpenId,setContainerRegisterId};