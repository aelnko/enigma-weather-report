import{switchWeatherIcon,switchColor}from"./switch_view.js";import getWeatherData from"../api.js";import{createWeatherStructure,createErrorStructure}from"./structure.js";const renderError=()=>{const e=document.querySelector(".container__wrapper"),r=document.querySelector(".weather-box");r&&r.remove();const t=document.querySelector(".error-box");t&&t.remove();const o=createErrorStructure();e.append(o),switchWeatherIcon(null),switchColor(null)},renderWeatherInfo=async()=>{const e=document.querySelector(".search-input").value,r=document.querySelector(".container");""!==e&&(r.style.height="650px");const t=document.querySelector(".container__wrapper"),o=await getWeatherData(e);if("city not found"===o.message)return void renderError();const n=document.querySelector(".error-box");n&&n.remove();const c=document.querySelector(".weather-box");c&&c.remove();const u=o.name,a=o.sys.country,{description:i,id:s}=o.weather[0],{temp:d,humidity:m}=o.main,h=o.wind.speed;t.append(createWeatherStructure()),document.querySelector(".current-temp div").innerText=`${Math.round(d)}Â°C`,document.querySelector(".city").innerText=`${u}, ${a}`,document.querySelector(".description").innerText=i,document.querySelector("span.humidity.value").innerText=`${m}%`,document.querySelector("span.wind-speed.value").innerText=`${h} m/s`,switchWeatherIcon(s),switchColor(s)};export{renderWeatherInfo};